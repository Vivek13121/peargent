# API Reference

## Agents

### create_agent()

Create a new agent instance.

```python
from peargent import create_agent
from peargent.models import groq

agent = create_agent(
    name="assistant",
    description="A helpful assistant",
    persona="You are a helpful AI assistant.",
    model=groq("llama-3.3-70b-versatile"),
    tools=None,
    tracing=False,
    history=None,
    session_id=None
)
```

**Parameters:**
- `name` (str): Agent name
- `description` (str): Agent description
- `persona` (str): System prompt defining agent behavior
- `model`: LLM model instance
- `tools` (list, optional): List of tools the agent can use
- `tracing` (bool, optional): Enable tracing
- `history` (object, optional): History backend instance
- `session_id` (str, optional): Session identifier for history

### agent.run()

Execute the agent with input.

```python
result = agent.run(
    input_data="Hello, world!",
    session_id=None
)
```

**Parameters:**
- `input_data` (str): User input
- `session_id` (str, optional): Override session ID

**Returns:** str - Agent response

## Tools

### create_tool()

Create a custom tool for agents.

```python
from peargent import create_tool

def my_function(arg1: str, arg2: int) -> str:
    return f"{arg1} {arg2}"

tool = create_tool(
    name="my_tool",
    description="My custom tool",
    input_parameters={"arg1": str, "arg2": int},
    call_function=my_function
)
```

**Parameters:**
- `name` (str): Tool name
- `description` (str): Tool description
- `input_parameters` (dict): Parameter types
- `call_function` (callable): Function to execute

## Tracing

### enable_tracing()

Configure and enable tracing.

```python
from peargent import enable_tracing

tracer = enable_tracing(
    store_type="sqlite",
    connection_string="sqlite:///./traces.db",
    traces_table="traces",
    spans_table="spans",
    enabled=True,
    async_db=False,
    num_workers=2,
    max_queue_size=1000
)
```

**Parameters:**
- `store_type` (str): "memory", "file", "sqlite", or "postgres"
- `connection_string` (str, optional): Database connection string
- `traces_table` (str): Custom traces table name
- `spans_table` (str): Custom spans table name
- `enabled` (bool): Enable/disable tracing
- `async_db` (bool): Use async writes
- `num_workers` (int): Background worker threads
- `max_queue_size` (int): Max pending operations

## Models

### openai()

Create OpenAI model instance.

```python
from peargent.models import openai

model = openai("gpt-4")
```

### groq()

Create Groq model instance.

```python
from peargent.models import groq

model = groq("llama-3.3-70b-versatile")
```

### gemini()

Create Gemini model instance.

```python
from peargent.models import gemini

model = gemini("gemini-2.5-flash")
```

---

For more details, see the [examples](/docs/examples) or check the source code on [GitHub](https://github.com/yourusername/peargent).

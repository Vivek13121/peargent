# Examples

## Basic Agent

A simple conversational agent:

```python
from peargent import create_agent
from peargent.models import groq

agent = create_agent(
    name="assistant",
    persona="You are a helpful AI assistant.",
    model=groq("llama-3.3-70b-versatile")
)

result = agent.run("What is Python?")
print(result)
```

## Agent with Tools

Create an agent that can use tools:

```python
from peargent import create_agent, create_tool
from peargent.models import groq

def get_weather(city: str) -> str:
    """Get weather for a city."""
    # Mock weather data
    return f"The weather in {city} is sunny, 72Â°F"

weather_tool = create_tool(
    name="get_weather",
    description="Get current weather for a city",
    input_parameters={"city": str},
    call_function=get_weather
)

agent = create_agent(
    name="weather_agent",
    persona="You help users check the weather.",
    model=groq("llama-3.3-70b-versatile"),
    tools=[weather_tool]
)

result = agent.run("What's the weather in San Francisco?")
print(result)
```

## Database Tracing

Track agent activity with database persistence:

```python
from peargent import create_agent, enable_tracing
from peargent.models import groq

# Enable SQLite tracing
tracer = enable_tracing(
    store_type="sqlite",
    connection_string="sqlite:///./traces.db",
    enabled=True
)

agent = create_agent(
    name="traced_agent",
    persona="You are helpful.",
    model=groq("llama-3.3-70b-versatile"),
    tracing=True
)

result = agent.run("Hello!")

# View traces
traces = tracer.list_traces()
for trace in traces:
    print(f"Trace: {trace.agent_name}, Duration: {trace.duration}")
```

## Async Database Writes

Use async writes for better performance:

```python
from peargent import create_agent, enable_tracing
from peargent.models import groq

# Enable async database writes
tracer = enable_tracing(
    store_type="sqlite",
    connection_string="sqlite:///./traces.db",
    async_db=True,  # Non-blocking writes
    num_workers=2,
    enabled=True
)

agent = create_agent(
    name="async_agent",
    persona="You are helpful.",
    model=groq("llama-3.3-70b-versatile"),
    tracing=True
)

# Run agent - writes happen in background
result = agent.run("Hello!")

# Flush pending writes before exit
tracer.store.flush()
tracer.store.shutdown()
```

## More Examples

For more examples, check out the [examples directory](https://github.com/yourusername/peargent/tree/main/examples) in the repository.

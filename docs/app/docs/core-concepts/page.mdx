# Core Concepts

## Agents

Agents are the core building blocks in Peargent. They encapsulate an LLM, tools, and conversation history.

```python
from peargent import create_agent
from peargent.models import groq

agent = create_agent(
    name="assistant",
    description="A helpful AI assistant",
    persona="You are a helpful assistant.",
    model=groq("llama-3.3-70b-versatile")
)
```

## Tools

Tools allow agents to interact with external systems and perform actions.

```python
from peargent import create_tool

def calculator(operation: str, a: float, b: float) -> float:
    """Perform basic arithmetic operations."""
    if operation == "add":
        return a + b
    elif operation == "multiply":
        return a * b
    return 0.0

calculator_tool = create_tool(
    name="calculator",
    description="Performs basic arithmetic",
    input_parameters={"operation": str, "a": float, "b": float},
    call_function=calculator
)

agent = create_agent(
    name="math_agent",
    persona="You help with calculations.",
    model=groq("llama-3.3-70b-versatile"),
    tools=[calculator_tool]
)
```

## Tracing

Track every action your agent takes with built-in tracing support.

### In-Memory Tracing

```python
from peargent import enable_tracing

tracer = enable_tracing(store_type="memory")

agent = create_agent(
    name="assistant",
    persona="You are helpful.",
    model=groq("llama-3.3-70b-versatile"),
    tracing=True
)

result = agent.run("Hello!")

# View traces
traces = tracer.list_traces()
tracer.print_traces()
```

### Database Tracing

```python
# SQLite
tracer = enable_tracing(
    store_type="sqlite",
    connection_string="sqlite:///./traces.db"
)

# PostgreSQL
tracer = enable_tracing(
    store_type="postgres",
    connection_string="postgresql://user:pass@localhost:5432/db"
)

# With async writes
tracer = enable_tracing(
    store_type="sqlite",
    connection_string="sqlite:///./traces.db",
    async_db=True,
    num_workers=2
)
```

## History Management

Manage conversation history across multiple backends.

```python
from peargent import create_agent
from peargent.history import PostgreSQLHistory

# PostgreSQL history
history = PostgreSQLHistory(
    connection_string="postgresql://user:pass@localhost/db"
)

agent = create_agent(
    name="assistant",
    persona="You are helpful.",
    model=groq("llama-3.3-70b-versatile"),
    history=history,
    session_id="user123"
)
```

## Models

Peargent supports multiple LLM providers:

```python
from peargent.models import openai, groq, gemini

# OpenAI
model1 = openai("gpt-4")

# Groq
model2 = groq("llama-3.3-70b-versatile")

# Gemini
model3 = gemini("gemini-2.5-flash")
```

## Next Steps

- Check out [Examples](/docs/examples) for more use cases
- Explore the [API Reference](/docs/api) for detailed documentation
